import{e as V,x as P,b as A,l as T,s as M,C as U,N as E}from"./bootstrap-vue-3.es-6305e2d1.js";import{bM as z,d as x,h as k,c as l,e as i,g as e,t as u,i as t,D,r as C,o as q,G as L,w as b,f as n,B as w,v as $,_ as B,aN as I,b as O,q as N,bR as F,ae as G,af as H,U as J}from"./index-d9bdaffa.js";/* empty css                                                             */const K=d=>new Promise((r,s)=>{const a=z.groupBy(d,"ciclo"),o=Object.keys(a);o.length>0?r({data:Object.values(a),keys:o}):s("Pensum invalido")}),Q={class:"row"},W={class:"col-3"},X={class:"col-9"},Y={class:"row d-flex align-items-center justify-content-center"},Z={class:"row"},ee={class:"col-6"},se={class:"col-6"},te=x({__name:"Card",props:{subject:null},setup(d){const r=d,{subject:s}=k(r),a=new Map([["A","aprobada"],["C","cursando"],["P","pendiente"],["R","requisitos"],["RR","reprobada"]]),o=p=>a.get(p||"A")||"pendiente";return(p,f)=>{var y,_,m,h,g,c,v;return l(),i("section",{class:D(["item-subject container-fluid",o((y=t(s))==null?void 0:y.estado)])},[e("header",Q,[e("div",W,[e("strong",null,u((_=t(s))==null?void 0:_.no_orden),1)]),e("div",X,u((m=t(s))==null?void 0:m.curso_codigo),1)]),e("main",Y,u((h=t(s))==null?void 0:h.curso_nombre),1),e("article",Z,[e("div",ee,u(((g=t(s))==null?void 0:g.requisitos)==="0"?"Bachillerato":(c=t(s))==null?void 0:c.requisitos),1),e("div",se,u((v=t(s))==null?void 0:v.uv)+" UV",1)])],2)}}}),ae={class:"table-responsive p-0"},oe={class:"table table-bordered"},ce=x({__name:"List",props:{items:null},setup(d){const r=d,{items:s}=k(r),a=C({keys:[],subjects:[]});return q(()=>{s!=null&&s.value&&K(s.value).then(o=>{o.keys&&(a.value.keys=o.keys),a.value.subjects=o.data})}),(o,p)=>{const f=V,y=P;return l(),L(y,null,{default:b(()=>[n(f,{class:"p-0"},{default:b(()=>[e("div",ae,[e("table",oe,[e("thead",null,[e("tr",null,[(l(!0),i($,null,w(a.value.keys,_=>(l(),i("th",{key:_},u(_),1))),128))])]),e("tbody",null,[e("tr",null,[(l(!0),i($,null,w(a.value.subjects,(_,m)=>(l(),i("td",{key:m},[(l(!0),i($,null,w(_,h=>(l(),L(te,{key:m,subject:h},null,8,["subject"]))),128))]))),128))])])])])]),_:1})]),_:1})}}}),ne=B(ce,[["__scopeId","data-v-6f943594"]]),le={class:"row mb-4 leyenda"},re={class:"col-12"},ie=I('<section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 data-v-b6b306cb>Aprobadas</h5><div class="item-subject aprobada" data-v-b6b306cb></div></section><section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 data-v-b6b306cb>Cursando</h5><div class="item-subject cursando" data-v-b6b306cb></div></section><section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 style="margin-left:5px;margin-bottom:0px;" data-v-b6b306cb> Prerequisitos completos </h5><div class="item-subject requisitos" data-v-b6b306cb></div></section><section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 data-v-b6b306cb>Pendientes</h5><div class="item-subject" data-v-b6b306cb></div></section><section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 data-v-b6b306cb>Reprobadas</h5><div class="item-subject reprobada" data-v-b6b306cb></div></section>',5),de=x({__name:"Leyenda",props:{carrera:null},setup(d){const r=d,{carrera:s}=k(r);return(a,o)=>{var p;return l(),i("div",le,[e("div",re,[e("h2",null,u((p=t(s))==null?void 0:p.nombre),1)]),ie])}}});const _e=B(de,[["__scopeId","data-v-b6b306cb"]]),ue={class:"card"},be={class:"card-header",style:{padding:"0 0 30px 0 !important"}},pe=e("h4",{class:"alert-heading"},"Materias",-1),me=e("p",null,[N(" Listado de materias disponibles para selección en el ciclo actual. "),e("strong",null," Nota: Los estudiantes pueden seleccionar un máximo de 5 materias. Asegúrate de que los horarios no se superpongan entre sí. ")],-1),he={class:"table-responsive mb-0"},ve={class:"text-center"},fe=x({__name:"Table",props:{asesorias:null,emptyText:null},emits:["validar"],setup(d,{emit:r}){const s=d,a=C([{key:"subject_code",label:"Codigo de la materia",class:"text-uppercase"},{key:"subject_name",label:"Nombre de la materia",class:"text-uppercase"},{key:"teacher_names",label:"Nombre del docente",class:"text-uppercase"},{key:"actions",label:""}]),{asesorias:o}=k(s),p=f=>{r("validar",f)};return(f,y)=>{const _=A,m=O("vue-feather"),h=T,g=M;return l(),i("div",ue,[e("div",be,[n(_,{show:"",variant:"secondary"},{default:b(()=>[pe,me]),_:1})]),e("div",he,[n(g,{"show-empty":"",striped:"",hover:"",items:t(o),fields:a.value},{"cell(teacher_names)":b(({item:c})=>{var v,j;return[N(u((v=c==null?void 0:c.teacher_names)==null?void 0:v.toUpperCase())+", "+u((j=c==null?void 0:c.teacher_lasts)==null?void 0:j.toUpperCase()),1)]}),"cell(actions)":b(({item:c})=>[n(h,{size:"sm",onClick:v=>p(c)},{default:b(()=>[n(m,{type:"check-circle"})]),_:2},1032,["onClick"])]),empty:b(c=>[e("h4",ve,u(d.emptyText||"No hay datos que mostrar"),1)]),_:1},8,["items","fields"])])])}}}),ye={key:0,class:"card"},ge={class:"card-header"},xe={class:"header-top"},je=e("h5",{class:"m-0"},"Materias",-1),$e={key:0,class:"",style:{float:"right"}},ke={class:"card-body"},we={key:1},Ce={class:"d-flex justify-content-center align-items-center",style:{height:"80vh"}},Pe=x({__name:"PensumList",setup(d){const r=C(!1),s=F(),{pensumList:a,loading:o,carrera:p,activeAdvice:f,academicNotEnrolled:y,academicEnrolled:_}=G(s);q(()=>{s.fetchPensum()});const m=h=>{s.pushAcademicLoad(h)};return(h,g)=>{const c=U,v=V,j=P,R=E;return l(),i($,null,[n(H,{title:"Pensum",button:!0}),t(o)?(l(),i("div",we,[e("div",Ce,[n(c,{type:"grow",style:{width:"6rem",height:"6rem"},variant:"primary",label:"Cargando..."})])])):(l(),i("div",ye,[e("div",ge,[e("div",null,[e("div",xe,[je,t(f)?(l(),i("div",$e)):J("",!0)])])]),e("div",ke,[n(_e,{carrera:t(p)},null,8,["carrera"]),n(ne,{items:t(a)},null,8,["items"])])])),n(R,{modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=S=>r.value=S),size:"xxl",title:"Crear asesoria","no-close-on-backdrop":!0,"no-close-on-esc":!0},{default:b(()=>[n(j,null,{default:b(()=>[n(v,null,{default:b(()=>[n(fe,{emptyText:"No hay materias disponibles para seleccionar",onValidar:m,asesorias:t(y)},null,8,["asesorias"])]),_:1}),n(v,null,{default:b(()=>[N(u(t(_)),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{Pe as default};
