import{d as y,h as $,b as N,c as s,e as t,g as e,v as f,B as C,i as o,f as m,t as l,U as g,q as S,u as B,M as A,ag as V}from"./index-011ca880.js";import{_ as j}from"./ListEnrolled.vue_vue_type_script_setup_true_lang-42660955.js";import{u as D}from"./usePensum-7ba50018.js";const E={class:"card"},L=e("div",{class:"card-header"},[e("h5",null,"Horarios")],-1),q={class:"table-responsive mb-0"},F={class:"table b-table asesoria"},M=e("thead",{role:"rowgroup"},[e("tr",{role:"row"},[e("th",{class:"text-center",role:"columnheader",width:"40px",scope:"col"}),e("th",{class:"text-center",role:"columnheader",width:"60px",scope:"col"}," Codigo "),e("th",{class:"text-center",role:"columnheader",scope:"col"}," Nombre de la materia "),e("th",{class:"text-center",role:"columnheader",width:"190px",scope:"col"}," Docente "),e("th",{class:"text-center",role:"columnheader",width:"60px",scope:"col"})])],-1),P=["onClick"],T={class:"card-footer",style:{padding:"20px 15px"}},U={key:1,class:"alert alert-danger"},H=e("h6",{class:"text-center"},"Debes seleccionar por lo menos una materia",-1),I=[H],z=y({__name:"List",props:{subjects:null,hasRol:{type:Boolean}},emits:["remove","send"],setup(p,{emit:r}){const d=p,{subjects:c,hasRol:i}=$(d),u=_=>{r("remove",_)},h=()=>{r("send")};return(_,a)=>{const b=N("vue-feather");return s(),t("div",E,[L,e("div",q,[e("table",F,[M,e("tbody",null,[(s(!0),t(f,null,C(o(c),(n,x)=>(s(),t("tr",{key:n.id},[e("td",null,l(x+1),1),e("td",null,l(n.materia.codigo),1),e("td",null,l(n.materia.nombre),1),e("td",null,l(n.docente.nombre)+" "+l(n.docente.apellido),1),e("td",null,[o(i)?(s(),t("button",{key:0,class:"btn btn-secondary",onClick:k=>u(n.materia.codigo)}," x ",8,P)):g("",!0)])]))),128))])])]),e("div",T,[o(c).length>0&&o(i)?(s(),t("button",{key:0,onClick:h,class:"btn btn-primary active pull-right d-flex"},[m(b,{type:"send"})])):(s(),t("div",U,I))])])}}}),G={class:"card"},J=e("div",{class:"card-header"},[e("h5",null,"Materias"),e("span",null,[S(" Listado de materias que se pueden seleccionar para el actual ciclo. "),e("strong",null," Nota: Solo se pueden seleccionar 5 materias como maximo y los horarios deben ser diferente ")])],-1),K={class:"table-responsive mb-0"},O={class:"table b-table asesoria",role:"table"},Q=e("thead",{role:"rowgroup"},[e("tr",{role:"row"},[e("th",{role:"columnheader",width:"150px",scope:"col"}," Codigo de la materia "),e("th",{role:"columnheader",scope:"col"}," Nombre de la materia "),e("th",{role:"columnheader",scope:"col"}," Nombre del docente "),e("th",{role:"columnheader",scope:"col"})])],-1),W={role:"row"},X={role:"columnheader",width:"150px",scope:"col"},Y={role:"columnheader",scope:"col"},Z={role:"columnheader",scope:"col"},ee=["onClick"],oe={key:0},se=e("td",{colspan:"4",class:"text-center"}," No hay materias para mostrar ",-1),te=[se],ae=y({__name:"Table",props:{asesorias:null,hasRol:{type:Boolean}},emits:["validar"],setup(p,{emit:r}){const d=p,{asesorias:c,hasRol:i}=$(d),u=h=>{r("validar",{item:h})};return(h,_)=>(s(),t("div",G,[J,e("div",K,[e("table",O,[Q,(s(!0),t(f,null,C(o(c),a=>(s(),t("tbody",{key:a.id},[e("tr",W,[e("th",X,l(a.materia.codigo),1),e("th",Y,l(a.materia.nombre),1),e("th",Z,l(a.docente.nombre)+" "+l(a.docente.apellido),1),e("th",null,[o(i)?(s(),t("button",{key:0,type:"button",class:"pull-right btn btn-pill btn-success active",onClick:b=>u(a)}," Seleccionar ",8,ee)):g("",!0)])])]))),128)),e("tfoot",null,[o(c).length===0?(s(),t("tr",oe,te)):g("",!0)])])])]))}}),le={key:0},ne={key:1,class:"row"},ce={class:"col-12 col-md-5 col-lg-5"},re={class:"col-12 col-md-7 col-lg-7"},_e=y({__name:"Asesoria",setup(p){const r=B(),d=D(),{validarSubjects:c,removeSubjects:i,sendAsesoria:u}=d,{asesoria:h,subjects:_,studentEnrolled:a,subjetsEnrolled:b,status:n}=$(d),x=v=>{c(v.item)},k=v=>{i(v)},R=()=>{u()},w=A(()=>r.hasRole("student.pensum.create"));return(v,de)=>(s(),t(f,null,[m(V,{title:"Asesoria",main:"Pensum",button:!0}),o(a)?(s(),t("div",le,[m(j,{items:o(b),status:o(n)},null,8,["items","status"])])):(s(),t("div",ne,[e("div",ce,[m(z,{subjects:o(_),"has-rol":o(w),onRemove:k,onSend:R},null,8,["subjects","has-rol"])]),e("div",re,[m(ae,{"has-rol":o(w),asesorias:o(h),onValidar:x},null,8,["has-rol","asesorias"])])]))],64))}});export{_e as default};
