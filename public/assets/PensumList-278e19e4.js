import{e as P,x as q,b as M,l as B,s as U,C as z,N as I}from"./bootstrap-vue-3.es-a48bef6c.js";import{bM as D,d as x,h as C,c as l,e as i,g as e,t as b,i as o,D as O,r as N,o as R,G as V,w as d,f as a,B as w,v as $,_ as S,aN as F,b as G,q as k,bR as H,ae as J,af as K,U as Q}from"./index-3189dc9f.js";/* empty css                                                             */const W=_=>new Promise((r,s)=>{const n=D.groupBy(_,"ciclo"),c=Object.keys(n);c.length>0?r({data:Object.values(n),keys:c}):s("Pensum invalido")}),X={class:"row"},Y={class:"col-3"},Z={class:"col-9"},ee={class:"row d-flex align-items-center justify-content-center"},se={class:"row"},te={class:"col-6"},ae={class:"col-6"},oe=x({__name:"Card",props:{subject:null},setup(_){const r=_,{subject:s}=C(r),n=new Map([["A","aprobada"],["C","cursando"],["P","pendiente"],["R","requisitos"],["RR","reprobada"]]),c=p=>n.get(p||"A")||"pendiente";return(p,f)=>{var y,u,m,h,g,t,v;return l(),i("section",{class:O(["item-subject container-fluid",c((y=o(s))==null?void 0:y.estado)])},[e("header",X,[e("div",Y,[e("strong",null,b((u=o(s))==null?void 0:u.no_orden),1)]),e("div",Z,b((m=o(s))==null?void 0:m.curso_codigo),1)]),e("main",ee,b((h=o(s))==null?void 0:h.curso_nombre),1),e("article",se,[e("div",te,b(((g=o(s))==null?void 0:g.requisitos)==="0"?"Bachillerato":(t=o(s))==null?void 0:t.requisitos),1),e("div",ae,b((v=o(s))==null?void 0:v.uv)+" UV",1)])],2)}}}),ne={class:"table-responsive p-0"},ce={class:"table table-bordered"},le=x({__name:"List",props:{items:null},setup(_){const r=_,{items:s}=C(r),n=N({keys:[],subjects:[]});return R(()=>{s!=null&&s.value&&W(s.value).then(c=>{c.keys&&(n.value.keys=c.keys),n.value.subjects=c.data})}),(c,p)=>{const f=P,y=q;return l(),V(y,null,{default:d(()=>[a(f,{class:"p-0"},{default:d(()=>[e("div",ne,[e("table",ce,[e("thead",null,[e("tr",null,[(l(!0),i($,null,w(n.value.keys,u=>(l(),i("th",{key:u},b(u),1))),128))])]),e("tbody",null,[e("tr",null,[(l(!0),i($,null,w(n.value.subjects,(u,m)=>(l(),i("td",{key:m},[(l(!0),i($,null,w(u,h=>(l(),V(oe,{key:m,subject:h},null,8,["subject"]))),128))]))),128))])])])])]),_:1})]),_:1})}}}),re=S(le,[["__scopeId","data-v-6f943594"]]),ie={class:"row mb-4 leyenda"},de={class:"col-12"},_e=F('<section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 data-v-b6b306cb>Aprobadas</h5><div class="item-subject aprobada" data-v-b6b306cb></div></section><section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 data-v-b6b306cb>Cursando</h5><div class="item-subject cursando" data-v-b6b306cb></div></section><section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 style="margin-left:5px;margin-bottom:0px;" data-v-b6b306cb> Prerequisitos completos </h5><div class="item-subject requisitos" data-v-b6b306cb></div></section><section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 data-v-b6b306cb>Pendientes</h5><div class="item-subject" data-v-b6b306cb></div></section><section class="col d-flex justify-content-between align-items-center" data-v-b6b306cb><h5 data-v-b6b306cb>Reprobadas</h5><div class="item-subject reprobada" data-v-b6b306cb></div></section>',5),ue=x({__name:"Leyenda",props:{carrera:null},setup(_){const r=_,{carrera:s}=C(r);return(n,c)=>{var p;return l(),i("div",ie,[e("div",de,[e("h2",null,b((p=o(s))==null?void 0:p.nombre),1)]),_e])}}});const be=S(ue,[["__scopeId","data-v-b6b306cb"]]),pe={class:"card"},me={class:"card-header",style:{padding:"0 0 30px 0 !important"}},he=e("h4",{class:"alert-heading"},"Materias",-1),ve=e("p",null,[k(" Listado de materias disponibles para selección en el ciclo actual. "),e("strong",null," Nota: Los estudiantes pueden seleccionar un máximo de 5 materias. Asegúrate de que los horarios no se superpongan entre sí. ")],-1),fe={class:"table-responsive mb-0"},ye={class:"text-center"},ge=x({__name:"Table",props:{asesorias:null,emptyText:null},emits:["validar"],setup(_,{emit:r}){const s=_,n=N([{key:"subject_code",label:"Codigo de la materia",class:"text-uppercase"},{key:"subject_name",label:"Nombre de la materia",class:"text-uppercase"},{key:"teacher_names",label:"Nombre del docente",class:"text-uppercase"},{key:"actions",label:""}]),{asesorias:c}=C(s),p=f=>{r("validar",f)};return(f,y)=>{const u=M,m=G("vue-feather"),h=B,g=U;return l(),i("div",pe,[e("div",me,[a(u,{show:"",variant:"secondary"},{default:d(()=>[he,ve]),_:1})]),e("div",fe,[a(g,{"show-empty":"",striped:"",hover:"",items:o(c),fields:n.value},{"cell(teacher_names)":d(({item:t})=>{var v,j;return[k(b((v=t==null?void 0:t.teacher_names)==null?void 0:v.toUpperCase())+", "+b((j=t==null?void 0:t.teacher_lasts)==null?void 0:j.toUpperCase()),1)]}),"cell(actions)":d(({item:t})=>[a(h,{size:"sm",onClick:v=>p(t)},{default:d(()=>[a(m,{type:"check-circle"})]),_:2},1032,["onClick"])]),empty:d(t=>[e("h4",ye,b(_.emptyText||"No hay datos que mostrar"),1)]),_:1},8,["items","fields"])])])}}}),xe={key:0,class:"card"},je={class:"card-header"},$e={class:"header-top"},ke=e("h5",{class:"m-0"},"Materias",-1),Ce={key:0,class:"",style:{float:"right"}},we={class:"card-body"},Ne={key:1},Le={class:"d-flex justify-content-center align-items-center",style:{height:"80vh"}},Be=x({__name:"PensumList",setup(_){const r=N(!1),s=H(),{pensumList:n,loading:c,carrera:p,activeAdvice:f,academicNotEnrolled:y,academicEnrolled:u}=J(s);R(()=>{s.fetchPensum()});const m=g=>{s.pushAcademicLoad(g)},h=()=>{r.value=!0};return(g,t)=>{const v=B,j=z,L=P,T=q,A=I;return l(),i($,null,[a(K,{title:"Pensum",button:!0}),o(c)?(l(),i("div",Ne,[e("div",Le,[a(j,{type:"grow",style:{width:"6rem",height:"6rem"},variant:"primary",label:"Cargando..."})])])):(l(),i("div",xe,[e("div",je,[e("div",null,[e("div",$e,[ke,o(f)?(l(),i("div",Ce,[a(v,{onClick:h},{default:d(()=>[k("Iniciar asesoria")]),_:1})])):Q("",!0)])])]),e("div",we,[a(be,{carrera:o(p)},null,8,["carrera"]),a(re,{items:o(n)},null,8,["items"])])])),a(A,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=E=>r.value=E),size:"xxl",title:"Crear asesoria","no-close-on-backdrop":!0,"no-close-on-esc":!0},{default:d(()=>[a(T,null,{default:d(()=>[a(L,null,{default:d(()=>[a(ge,{emptyText:"No hay materias disponibles para seleccionar",onValidar:m,asesorias:o(y)},null,8,["asesorias"])]),_:1}),a(L,null,{default:d(()=>[k(b(o(u)),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{Be as default};
