import{p as B,d as C,l as E}from"./bootstrap-vue-3.es-8d0c5b78.js";import{d as p,h,c as n,e as m,i as s,g as t,t as f,U as y,aO as V,_ as L,f as c,ag as D,G as u,w as l,q as b,v as F,x as N}from"./index-011ca880.js";import{u as P}from"./usePensum-7ba50018.js";import{L as R}from"./List-e92cc9b9.js";import{E as T,F as S}from"./FileSaver.min-78fc3b9a.js";const q={class:"row"},H=V('<div class="col d-flex justify-content-evenly align-items-center" data-v-a85b35b8><div class="item-subject aprobada" data-v-a85b35b8></div><h5 data-v-a85b35b8>Aprobadas</h5></div><div class="col d-flex justify-content-evenly align-items-center" data-v-a85b35b8><div class="item-subject cursando" data-v-a85b35b8></div><h5 data-v-a85b35b8>Cursando</h5></div><div class="col d-flex justify-content-evenly align-items-center" data-v-a85b35b8><div class="item-subject inscribir" data-v-a85b35b8></div><h5 style="margin-left:5px;margin-bottom:0px;" data-v-a85b35b8> Prerequisitos completos </h5></div><div class="col d-flex justify-content-evenly align-items-center" data-v-a85b35b8><div class="item-subject" data-v-a85b35b8></div><h5 data-v-a85b35b8>Pendientes</h5></div><div class="col d-flex justify-content-evenly align-items-center" data-v-a85b35b8><div class="item-subject reprobada" data-v-a85b35b8></div><h5 data-v-a85b35b8>Reprobadas</h5></div>',5),I={key:0,class:"col-12"},M=p({__name:"Leyenda",props:{carrera:null},setup(i){const o=i,{carrera:a}=h(o);return(r,d)=>(n(),m("div",q,[H,s(a)?(n(),m("div",I,[t("h2",null,f(s(a).nombre),1)])):y("",!0)]))}});const W=L(M,[["__scopeId","data-v-a85b35b8"]]),z=async i=>{const o=new T.Workbook,a=o.addWorksheet("Horario"),r=[{key:"codmate",header:"Codigo"},{key:"nommate",header:"Materia"},{key:"horario",header:"Horario"},{key:"docente",header:"Docente"}];a.columns=r,i.forEach(e=>{a.addRow({codmate:e.materia.codigo,nommate:e.materia.nombre,horario:`${e.horario.codigo} - ${e.horario.nombre}`,docente:`${e.docente.nombre} ${e.docente.apellido}`})}),a.getRow(1).font={name:"Arial",family:2,size:14};const d=new Date().getTime();o.xlsx.writeBuffer().then(e=>{const _=new Blob([e],{type:"application/vnd.ms-excel"});S.saveAs(_,`horario-${d}.xlsx`)})},G={class:"card"},O={class:"card-header"},U={class:"header-top"},J=t("h5",{class:"m-0"},"Materias",-1),K={key:0,class:"",style:{float:"right"}},Q={class:"card-body"},oe=p({__name:"PensumList",setup(i){const o=P(),a=N(),{list:r,inscribir:d,studentEnrolled:e,viewBtnAsesoria:_,carrera:x,viewAsesoriaBtn:k}=h(o),g=()=>{z(d.value)},w=()=>{a.push({name:"pensum-asesoria"})},j=()=>{a.push({name:"pensum-view"})};return(X,Y)=>{const v=B,$=C,A=E;return n(),m(F,null,[c(D,{title:"Pensum",button:!0}),t("div",G,[t("div",O,[t("div",null,[t("div",U,[J,s(_)?(n(),m("div",K,[s(k)?(n(),u(A,{key:1,onClick:j},{default:l(()=>[b("Ver asesoria")]),_:1})):(n(),u($,{key:0,id:"dropdown-1",text:"Asesoria",class:"m-md-2"},{default:l(()=>[c(v,{onClick:g},{default:l(()=>[b(" Descargar horarios ")]),_:1}),c(v,{onClick:w},{default:l(()=>[b(f(s(e)?"Ver asesoria":"Iniciar asesoria"),1)]),_:1})]),_:1}))])):y("",!0)])])]),t("div",Q,[c(W,{carrera:s(x)},null,8,["carrera"]),c(R,{keys:s(r).keys,items:s(r).items},null,8,["keys","items"])])])],64)}}});export{oe as default};
